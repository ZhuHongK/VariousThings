## 1、如何排查一条慢SQL？可以从哪些方面入手？（SQL）
1. 如果是一个sql，可以通过explain的指令去查这个sql的执行计划。（索引失效会导致sql的执行变为全表扫描或选择错误的索引，在explain中一般是type=ALL或者type=index）
2. 如果有数据库终端的话，也可以通过开启mysql的慢日志查询，设置好时间阈值，进行捕获
## SQL优化
SQL语句的优化方式主要是通过选择合适的索引、优化查询语句、避免全表扫描等提高查询效率，减少慢SQL的出现
### 索引
索引主要用于加快数据的查询速度，有了正确的索引，数据库就可以根据索引的数据结构快速定位到匹配的数据行，从而提高查询效率和响应速度。在慢SQL中由于索引导致的主要有两个方面：**索引缺失**（没有索引） 与 **索引失效**

一般在以下场景需要为相应的列创建索引：
- 字段有唯一性限制
- 经常用于where查询条件的字段
- 经常用于group by和order by的字段，可以避免排序

但并不是每个字段都要添加上索引，以下场景添加上索引会加重DB的负担：
- 不用于查询条件的字段
- 字段中存在大量重复的数据
- 数据量太少
- 频繁更新的字段（考虑）

## 2、说一说关于lambda函数的知识（C++）
1. 利用lambda表达式可以编写内嵌的匿名函数，用以替换独立函数或者函数对象
2. 每当你定义一个lambda表达式后，编译器会自动生成一个匿名类（这个类重载了()运算符），我们称为闭包类型（closure type）。那么在运行时，lambda表达式就会返回一个匿名的闭包实例，其实一个右值
3. lambda可以忽略参数列表和返回值，但必须永远包含捕获列表和函数体

## 3、在浏览器地址栏输入一个URL后回车，背后会进行哪些技术步骤？（计网）
1. 域名解析 
   - 查浏览器本地缓存
   - 检查本机host文件
   - 向DNS服务器发送DNS查询请求获取IP地址
2. 发起TCP的3次握手
3. 建立TCP连接后发起http请求
4. 服务器响应http请求，浏览器得到html代码
5. 浏览器解析html代码，并请求html代码中的资源（js、css、图片等）
6. 浏览器对页面进行渲染呈现给用户

## 4、如何设计一个高性能/高并发/高可用/高可靠/可扩展的系统? 
1. 无锁化
2. 零拷贝
3. 序列化
4. 池子化
5. 并发化
6. 异步化
7. 缓存
8. 分片
9. 存储

## 5、事务四大特性（ACID）原子性、一致性、隔离性、永久性（MySql）
### 原子性
原子性是指事务包含的所有操作要么全部成功，要么全部失败回滚，因此事务的操作如果成功就必须要完全应用到数据库，如果操作失败则不能对数据库有任何影响
### 一致性
事务开始前和结束后，数据库的完整性约束没有被破坏。比如A向B转账，不可能A扣了钱，B却没收到
### 隔离性
隔离性是当多个用户并发访问数据库时，比如操作同一张表，数据库为每一个用户开启的事务，不能被其他事务所干扰，多个并发事务之间要相互隔离。
同一时间，只允许一个事务请求同一数据，不同的事务之间彼此没有任何干扰。比如A正在从一张银行卡中取钱，在A取钱的过程结束前，B不能向这张卡转账。

事务隔离分为不同级别，包括读未提交、读提交、可重复读和串行化
### 持久性
持久性是指一个事物一旦被提交了，那么对数据库中的数据的改变就是永久性的，即便是在数据库系统遇到故障的情况下也不会丢失提交事务的操作

## 6、接雨水（数据结构）
[link](https://leetcode.cn/problems/trapping-rain-water/)
![Alt text](image-1.png)

## 7、TCP是如何保证可靠传输的？（计网）
tcp的序列号可以避免乱序的问题，保证收到的tcp报文都是有序的。
在 TCP 中，当发送端的数据到达接收主机时，接收端主机会返回一个确认应答消息，表示已收到消息。
TCP 针对数据包丢失的情况，会用重传机制解决。
用快重传解决个别报文段的丢失问题。
使用滑动窗口实现流量控制。使用接收方确认报文中的窗口字段来控制发送方发送窗口大小，进而控制发送方的发送速率，使得接收方来得及接收。
使用基于窗口的拥塞控制，来尽量避免避免网络拥塞。
- 建立连接（标志位）：通信前确认通信实体存在
- 序号机制（序号、确认号）：确保了数据是按序、完整到达
- 数据校验（校验和）：CRC校验全部数据
- 超时重传（定时器）：保证因链路故障未能到达数据能够被多次重发
- 窗口机制（窗口）：提供流量控制，避免过量发送
- 拥塞控制：同上

## 8、线程与进程的比较或者说区别？
关于线程：线程启动速度快，轻量级；线程的系统开销小；线程使用有一定难度，需要处理数据一致性问题；同一线程共享的有堆、全局变量、静态变量、指针，引用、文件等，而独自占有栈
- 调度：线程是调度的基本单位（PC，状态码，通用寄存器，线程栈及栈指针）；进程是拥有资源的基本单位（打开文件，堆，静态区，代码段等）
- 并发性：一个进程内多个线程可以并发（最好和CPU核数相等）；多个进程可以并发
- 拥有资源：线程不拥有系统资源，但一个进程的多个线程可以共享隶属进程的资源；进程是拥有资源的独立单位
- 系统开销：线程创建销毁只需要处理PC值，状态码，通用寄存器值，线程栈及栈指针即可；进程创建和销毁需要重新分配及销毁task_struct结构（是Linux中描述进程的结构体）
